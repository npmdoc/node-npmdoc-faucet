<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/substack/faucet">faucet (v0.0.1)</a>
</h1>
<h4>human-readable TAP summarizer</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.faucet">module faucet</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faucet.faucet">
            function <span class="apidocSignatureSpan"></span>faucet
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faucet.toString">
            function <span class="apidocSignatureSpan">faucet.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.faucet.toString">module faucet.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.faucet.toString.toString">
            function <span class="apidocSignatureSpan">faucet.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faucet" id="apidoc.module.faucet">module faucet</a></h1>


    <h2>
        <a href="#apidoc.element.faucet.faucet" id="apidoc.element.faucet.faucet">
        function <span class="apidocSignatureSpan"></span>faucet
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">faucet = function (opts) {
    if (!opts) opts = {};
    var tap = parser();
    var out = through2();
    var test, lastAssert;

    tap.on('comment', function (comment) {
        if (comment === 'fail 0') return; // a mocha thing

        if (test &amp;&amp; test.ok &amp;&amp; test.assertions.length === 0
        &amp;&amp; /^(tests|pass)\s+\d+$/.test(test.name)) {
            out.push('\r' + trim(test.name));
        }
        else if (test &amp;&amp; test.ok) {
            var s = updateName(test.offset + 1, 'âœ“ ' + test.name, 32);
            out.push('\r' + s);
        }

        test = {
            name: comment,
            assertions: [],
            offset: 0,
            ok: true
        };
        out.push('\r' + trim('# ' + comment) + '\x1b[K\n');
    });

    tap.on('assert', function (res) {
        var ok = res.ok ? 'ok' : 'not ok';
        var c = res.ok ? 32 : 31;
        if (!test) {
            // mocha produces TAP results this way, whatever
            var s = trim(res.name.trim());
            out.push(sprintf(
                '\x1b[1m\x1b[' + c + 'm%s\x1b[0m\n',
                trim((res.ok ? 'âœ“' : 'â¨¯') + ' ' +  s)
            ));
            return;
        }

        var fmt = '\r  %s \x1b[1m\x1b[' + c + 'm%d\x1b[0m %s\x1b[K';
        var str = sprintf(fmt, ok, res.number, res.name);

        if (!res.ok) {
            var y = (++ test.offset) + 1;
            str += '\n';
            if (test.ok) {
                str += updateName(y, 'â¨¯ ' + test.name, 31)
            }
            test.ok = false;
        }
        out.push(str);
        test.assertions.push(res);
    });

    tap.on('extra', function (extra) {
        if (!test || test.assertions.length === 0) return;
        var last = test.assertions[test.assertions.length-1];
        if (!last.ok) {
            out.push(extra.split('\n').map(function (line) {
                return '  ' + line;
            }).join('\n') + '\n');
        }
    });

    tap.on('results', function (res) {
        if (test &amp;&amp; /^fail\s+\d+$/.test(test.name)) {
            out.push(updateName(test.offset + 1, 'â¨¯ ' + test.name, 31));
        }
        else if (test &amp;&amp; test.ok) {
            out.push(updateName(test.offset + 1, 'âœ“ ' + test.name, 32));
        }

        res.errors.forEach(function (err, ix) {
            out.push(sprintf(
                'not ok \x1b[1m\x1b[31m%d\x1b[0m %s\n',
                ix + 1 + res.asserts.length, err.message
            ));
        });

        if (!res.ok &amp;&amp; !/^fail\s+\d+$/.test(test &amp;&amp; test.name)) {
            out.push(sprintf(
                '\r\x1b[1m\x1b[31mâ¨¯ fail  %s\x1b[0m\x1b[K\n',
                (res.errors.length + res.fail.length) || ''
            ));
        }

        out.push(null);

        dup.emit('results', res);
        if (!res.ok) dup.emit('fail');
        dup.exitCode = res.ok ? 0 : 1;
    });

    var dup = duplexer(tap, out);
    return dup;

    function showTest (test) {
        out.push('\r');
    }

    function trim (s) {
        if (opts.width &amp;&amp; s.length &gt; opts.width - 2) {
            s = s.slice(0, opts.width - 5) + '...';
        }
        return s;
    }

    function updateName (y, str, c) {
        return '\x1b[' + y + 'A'
            + '\x1b[1G'
            + '\x1b[1m\x1b[' + c + 'm'
            + trim(str)
            + '\x1b[0m'
            + '\x1b[' + y + 'B\x1b[1G'
        ;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.faucet.toString" id="apidoc.element.faucet.toString">
        function <span class="apidocSignatureSpan">faucet.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.faucet.toString" id="apidoc.module.faucet.toString">module faucet.toString</a></h1>


    <h2>
        <a href="#apidoc.element.faucet.toString.toString" id="apidoc.element.faucet.toString.toString">
        function <span class="apidocSignatureSpan">faucet.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>